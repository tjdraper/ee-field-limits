function runFabController(e){"use strict";if(void 0!==window.jQuery){var i=window.jQuery,n={},t=[],o=function(t,o){var r;return"object"==typeof t?(o=t,t=null):"string"!=typeof t&&(o={},t=null),r=function(n){var t,r,p=this,s=$.extend(!0,{},o);for(t in s)s.hasOwnProperty(t)&&(p[t]=s[t]);if("object"==typeof n)for(t in n)n.hasOwnProperty(t)&&(p[t]=n[t]);if(p.el?"string"==typeof p.el?(p.$el=$(p.el),p.el=p.$el.get(0)):p.el instanceof i?(p.$el=p.el,p.el=p.$el.get(0)):p.el instanceof HTMLElement&&(p.$el=$(p.el)):(p.$el=$("<div></div>"),p.el=p.$el.get(0)),"object"==typeof p.model&&void 0!==e.model?e.model.validateGuid(p.model.guid)||(r=e.model.make(p.model),p.model=new r):void 0!==this.model&&(p.model=null),"function"==typeof p.init&&(Array.prototype.shift.apply(arguments),p.init.apply(p,arguments)),"object"==typeof p.events)for(t in p.events)p.events.hasOwnProperty(t)&&"function"==typeof p.events[t]&&function(e,i){e[1]?p.$el.on(e[0],e[1],function(){i.apply(p,arguments)}):p.$el.on(e[0],function(){i.apply(p,arguments)})}(t.split(" "),p.events[t])},t&&(n[t]=r),r};e.controller={make:function(){return o.apply(o,arguments)},construct:function(e){var i;return"function"!=typeof n[e]?null:(i=new(Function.prototype.bind.apply(n[e],arguments)),t.push(i),i)}}}else setTimeout(function(){runFabController(e)},10)}function runFieldCharLimit(e){"use strict";e.fieldLimitsDependenciesReady()?e.controller.make("FieldCharLimit",{$input:$(),$countWrapper:$(),$counter:$(),limit:0,warningLevel:0,init:function(){var e=this,i=e.$el;e.$input=i.children(".js-field-limits-input"),e.$countWrapper=i.children(".js-field-limits-count-wrap"),e.$counter=e.$countWrapper.children(".js-field-limits-count"),e.limit=i.data("limit"),e.warningLevel=.65*e.limit,e.runCheck(),e.$input.on("keyup change",function(){e.runCheck()})},runCheck:function(){var e=this,i=e.$input,n=e.limit,t=e.$counter,o=e.warningLevel,r=e.$countWrapper;i.val().length>n&&i.val(i.val().substr(0,n)),t.text(i.val().length),i.val().length>=o?r.addClass("field-limits-count--warning"):r.removeClass("field-limits-count--warning"),i.val().length>=n?r.addClass("field-limits-count--limit-reached"):r.removeClass("field-limits-count--limit-reached")}}):setTimeout(function(){runFieldCharLimit(e)},10)}function runMain(e){"use strict";if(e.fieldLimitsDependenciesReady()){$("body").on("mousewheel",":input[type=number]",function(){this.blur()}),$(".js-field-limits-limited").each(function(){$(this).data("field-limits-limit-set",!0),e.controller.construct("FieldCharLimit",{el:this})}),["field_limits","field_limits_number","field_limits_textarea"].forEach(function(i){window.Grid.bind(i,"display",function(i){i.find(".js-field-limits-limited").each(function(){var i=$(this);i.data("fieldLimitsLimitSet")||(i.data("fieldLimitsLimitSet",!0),e.controller.construct("FieldCharLimit",{el:this}))})})})}else setTimeout(function(){runMain(e)},10)}window.FABNAMESPACE="FIELDLIMITS",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},window[window.FABNAMESPACE].fieldLimitsDependenciesReady=function(){"use strict";var e=window[window.FABNAMESPACE];return void 0!==window.Grid&&void 0!==window.$&&void 0!==e.controller&&void 0!==e.model},window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runFabController(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},function(e){"use strict";var i=[],n=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t=function(e){var t;return"object"!=typeof e&&(e={}),t=function(t){var o=this;o.guid=n(),i.push(o.guid),o.properties={},o.propertyTypes=e,o.changeEvents={};for(var r in o.propertyTypes)o.propertyTypes.hasOwnProperty(r)&&(o.changeEvents[r]={});for(var p in t)t.hasOwnProperty(p)&&void 0!==o.propertyTypes[p]&&(o.properties[p]=t[p])},t.prototype={get:function(e){var i=this;return i.properties[e]?"int"===i.propertyTypes[e]?parseInt(i.properties[e]):"float"===i.propertyTypes[e]?parseFloat(i.properties[e]):"string"===i.propertyTypes[e]?String(i.properties[e]):"bool"===i.propertyTypes[e]?!0===i.properties[e]:"array"===i.propertyTypes[e]?i.properties[e].constructor===Array?i.properties[e]:[]:"object"===i.propertyTypes[e]?i.properties[e].constructor===Object?i.properties[e]:{}:null:"int"===i.propertyTypes[e]||"float"===i.propertyTypes[e]?0:"string"===i.propertyTypes[e]?"":"bool"!==i.propertyTypes[e]&&("array"===i.propertyTypes[e]?[]:"object"===i.propertyTypes[e]?{}:null)},set:function(e,i){var n,t=this,o=!1,r=t.properties[e];if("int"===t.propertyTypes[e]?(t.properties[e]=parseInt(i),o=!0):"float"===t.propertyTypes[e]?(t.properties[e]=parseFloat(i),o=!0):"string"===t.propertyTypes[e]?(t.properties[e]=String(i),o=!0):"bool"===t.propertyTypes[e]?(t.properties[e]=!0===i||"true"===i||"yes"===i||"y"===i,o=!0):"array"===t.propertyTypes[e]?i.constructor===Array&&(t.properties[e]=i,o=!0):"object"===t.propertyTypes[e]&&i.constructor===Object&&(t.properties[e]=i,o=!0),o&&r!==t.properties[e]&&void 0!==t.changeEvents[e]){n=[t.properties[e],r];for(var p in t.changeEvents[e])t.changeEvents[e][p].forEach(function(e){e.apply(e,n)})}},onChange:function(e,i){var n=this,t=e.split(".");void 0!==n.propertyTypes[t[0]]&&(void 0===t[1]?(void 0===n.changeEvents[t[0]].noNameSpace&&(n.changeEvents[t[0]].noNameSpace=[]),n.changeEvents[t[0]].noNameSpace.push(i)):(void 0===n.changeEvents[t[0]][t[1]]&&(n.changeEvents[t[0]][t[1]]=[]),n.changeEvents[t[0]][t[1]].push(i)))},offChange:function(e){var i=this,n=e.split(".");void 0===n[1]?i.changeEvents[n[0]]={}:delete i.changeEvents[n[0]][n[1]]}},t};window[window.FABNAMESPACE].model={make:function(){return t.apply(t,arguments)},validateGuid:function(e){return i.indexOf(e)>-1}}}(),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runFieldCharLimit(window[window.FABNAMESPACE]),window.FABNAMESPACE=window.FABNAMESPACE||"FAB",window[window.FABNAMESPACE]=window.window[window.FABNAMESPACE]||{},runMain(window[window.FABNAMESPACE]);
//# sourceMappingURL=script.min.js.map